
/* src/components/ui/CopyButton.css */

/* Variables base para soportar light/dark y alto contraste */
:root {
  --cbg: #f3f4f6; /* Gray-100 */
  --cfg: #111827; /* Gray-900 */
  --cbg-hover: #e5e7eb; /* Gray-200 */
  --cbg-active: #d1d5db; /* Gray-300 */
  --cbg-copied: #dcfce7; /* Green-100 */
  --border: #d1d5db; /* Gray-300 */
  --ring: #2563eb; /* Blue-600 */
}

@media (prefers-color-scheme: dark) {
  :root {
    --cbg: #1f2937; /* Gray-800 */
    --cfg: #e5e7eb; /* Gray-200 */
    --cbg-hover: #374151; /* Gray-700 */
    --cbg-active: #4b5563; /* Gray-600 */
    --cbg-copied: #064e3b; /* Emerald-900 (oscuro pero legible) */
    --border: #374151; /* Gray-700 */
    --ring: #60a5fa; /* Blue-400 */
  }
}

.copy-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background-color: var(--cbg);
  color: var(--cfg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px 14px; /* Touch target: ~44px alto */
  min-height: 44px;
  cursor: pointer;
  user-select: none;
  transition:
    background-color 160ms ease,
    transform 80ms ease,
    border-color 160ms ease,
    color 160ms ease;
}

.copy-btn:hover {
  background-color: var(--cbg-hover);
}

.copy-btn:active {
  background-color: var(--cbg-active);
  transform: scale(0.98);
}

.copy-btn:disabled {
  opacity: 0.7;
  cursor: default;
}

.copy-btn:is(:focus, :focus-visible) {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 60%, transparent);
  border-color: var(--ring);
}

.copy-btn__icon {
  display: inline-flex;
}

.copy-btn__text {
  font-size: 0.95rem;
  font-weight: 600;
}

/* Feedback visual “copiado” */
.copy-btn.is-copied {
  background-color: var(--cbg-copied);
  border-color: color-mix(in oklab, var(--cbg-copied) 40%, var(--border));
}

/* Estado copiando: sutil animación de pulsado */
.copy-btn.is-copying {
  animation: cb-pulse 600ms ease-in-out infinite alternate;
}

@keyframes cb-pulse {
  from {
    transform: translateZ(0);
  }
  to {
    transform: translateZ(0) scale(0.99);
  }
}
